<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="assets/img/Mr.png">
  <link rel="icon" type="image/png" href="assets/img/Mr.png">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
  <!--     Fonts and icons     -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
  <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" />
  <!-- CSS Files -->
  <link href="assets/css/bootstrap.min.css" rel="stylesheet" />
  <link href="assets/css/bootstrap.css" rel="stylesheet" />
  <!-- CSS Just for demo purpose, don't include it in your project -->
  <link href="assets/css/demo.css" rel="stylesheet" />
  <link href="./css/estilos.css" rel="stylesheet" />
  <title>Sube tu despensa</title>
  <link href="assets/css/bootstrap.min.css" rel="stylesheet" />
  <link href="assets/css/bootstrap.css" rel="stylesheet" />
  <link href="assets/css/material-kit.css" rel="stylesheet" />
  <!-- CSS Just for demo purpose, don't include it in your project -->
  <link href="assets/css/demo.css" rel="stylesheet" />
  <link href="./css/estilos.css" rel="stylesheet" />
  <style>
    .slider {
      background: url("img/ingredientes2.jpg");
      height: 100vh;
      background-size: cover;
      background-position: center;
    }
  </style>
</head>

<body>
  <!--Navbar -->
  <nav class="mb-1 navbar navbar-expand-lg navbar-dark info-color">
    <a class="navbar-brand" href="index.html">Inicio</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent-4"
      aria-controls="navbarSupportedContent-4" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent-4">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item ">
          <a class="nav-link active" href="alex.html">
            <i class="material-icons">event_note</i> Despensa
            <span class="sr-only">(current)</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="chantal.html">
            <i class="material-icons">local_dining</i> Crea tu receta</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="index.html">
            <i class="material-icons">local_dining</i> Recetas</a>
        </li>

        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" id="navbarDropdownMenuLink-4" data-toggle="dropdown" aria-haspopup="true"
            aria-expanded="false">
            <i class="material-icons"></i> Profile </a>
          <div class="dropdown-menu dropdown-menu-right dropdown-info" aria-labelledby="navbarDropdownMenuLink-4">
            <a class="dropdown-item" href="#">My account</a>
            <a class="dropdown-item" href="#">Log out</a>
          </div>
        </li>
      </ul>
    </div>
  </nav>
  <!-- end navbar -->

  <body style="background-color:#ffff">
    <br>
    <div class="container  justify-content-center">
      <div class="row">
        <div class="mx-auto">
          <h1>
            <p style="color:#343a40"> <b> Sube tu despensa </b></p>
          </h1>
        </div>
      </div>
      <br>
      <div class="row">
        <div class="col-md-6">
          <br><i class="fa fa-arrow-right" aria-hidden="true">Ingresa ingredientes</i>
          <input id="ingrediente1" type="text" class="form-control" placeholder="Ingrediente">
          <button class="btn btn-primary" onclick="obtenerIngrediente()"> Agregar ingrediente
            <i class="material-icons">add</i>
          </button>
          <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#modalPoll-1">Generar Receta
          </button>
        </div>
        <div class="col-md-6">
          <br><i class="fa fa-arrow-right" aria-hidden="true">Tus ingredientes</i>
          <table class="table">
            <thead>
              <tr>
                <th>Numero</th>
                <th>Nombre ingrediente</th>
                <th>Editar</th>
                <th>Eliminar</th>
              </tr>
            </thead>
            <tbody id="cargar">
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- MODAL BOTON -->
    <div class="modal fade right" id="modalPoll-1" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
      aria-hidden="true" data-backdrop="false">
      <div class="modal-dialog modal-full-height modal-right modal-notify modal-info" role="document">
        <div class="modal-content">
          <!--Header-->
          <div class="modal-header">
            <p class="heading lead">Generar Receta
            </p>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true" class="white-text">×</span>
            </button>
          </div>
          <!--Body-->
          <div class="modal-body">
            <div class="text-center">
              <i class="far fa-file-alt fa-4x mb-3 animated rotateIn"></i>
            </div>
            <hr>
            <!-- Radio -->
            <p class="text-center">
              <strong>Selecciona una categoria</strong>
            </p>
            <div class="form-check mb-4">
              <input class="form-check-input" name="group1" type="radio" id="radio-179" value="option1" checked>
              <label class="form-check-label" for="radio-179">Desayuno</label>
            </div>
            <div class="form-check mb-4">
              <input class="form-check-input" name="group1" type="radio" id="radio-279" value="option2">
              <label class="form-check-label" for="radio-279">Comida</label>
            </div>
            <div class="form-check mb-4">
              <input class="form-check-input" name="group1" type="radio" id="radio-379" value="option3">
              <label class="form-check-label" for="radio-379">Cena</label>
            </div>
            <div class="form-check mb-4">
              <input class="form-check-input" name="group1" type="radio" id="radio-479" value="option4">
              <label class="form-check-label" for="radio-479">Dieta para diabeticos</label>
            </div>
            <div class="form-check mb-4">
              <input class="form-check-input" name="group1" type="radio" id="radio-579" value="option5">
              <label class="form-check-label" for="radio-579">Dieta para niños</label>
            </div>
            <!-- Radio -->
            <p class="text-center">
              <strong>¿Te gustaria recomendar otra categoria?</strong>
            </p>
            <!--Basic textarea-->
            <div class="md-form">
              <textarea type="text" id="form79textarea" class="md-textarea form-control"></textarea>

            </div>

          </div>

          <!--Footer-->
          <div class="modal-footer justify-content-center">
            <a type="button" class="btn btn-primary waves-effect waves-light">Enviar
              <i class="fa fa-paper-plane ml-1"></i>
            </a>
            <a type="button" class="btn btn-outline-primary waves-effect" data-dismiss="modal">Cancelar</a>
          </div>
        </div>
      </div>
    </div>
    <!-- Modal: modalPoll -->
    </div>
    <!--   Core JS Files   -->
    <script src="assets/js/jquery.min.js" type="text/javascript"></script>
    <script src="assets/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="assets/js/bootstrap.js" type="text/javascript"></script>
    <script src="assets/js/popper.min.js" type="text/javascript"></script>
    <script src="assets/js/material.min.js"></script>
    <!--  Plugin for the Sliders, full documentation here: http://refreshless.com/nouislider/ -->
    <script src="assets/js/nouislider.min.js" type="text/javascript"></script>
    <!--  Plugin for the Datepicker, full documentation here: http://www.eyecon.ro/bootstrap-datepicker/ -->
    <script src="assets/js/bootstrap-datepicker.js" type="text/javascript"></script>
    <!-- Control Center for Material Kit: activating the ripples, parallax effects, scripts from the example pages etc -->
    <script src="assets/js/material-kit.js" type="text/javascript"></script>
    <script src="https://www.gstatic.com/firebasejs/5.8.2/firebase.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->

    <script>
      // Your web app's Firebase configuration
      var firebaseConfig = {
        apiKey: "AIzaSyCYqXmvL76XP4EcaBkSfZ2nVLmYYECOcp8",
        authDomain: "milrecetas-3bda6.firebaseapp.com",
        databaseURL: "https://milrecetas-3bda6.firebaseio.com",
        projectId: "milrecetas-3bda6",
        storageBucket: "milrecetas-3bda6.appspot.com",
        messagingSenderId: "920714233064",
        appId: "1:920714233064:web:d8793f225949b31345f55d"
      };
      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);
      const db = firebase.database();
      // esta funcion loque hace es obtener el element id

      //funcion de json 
      function arrayJson(ingrediente) {

        var data = {
          // numero : numero,
          Ingrediente: ingrediente
        };
        return data;
      }

      function inputInserta(id, resultado) {
        return document.getElementById(id).value = resultado;
      }
      //INSERTAMOS DESPENSA 
      function obtenerIngrediente() {
        ingredientes = new Array();
        //const ingredientes= ['hola','perros','perritas','perras','perras'];
        var ingrediente = document.getElementById("ingrediente1").value
        var myElement = document.getElementById("cargar");
        var numero1 = 1;
        if (ingrediente.length == 0) {
          alert("El campo esta vacio");
        } else {
          var ref = firebase.database().ref('Despenza/2/');
          ref.once("value")
            .then(function (snapshot) {
              var elemento = snapshot.child("Ingredientes/").val();
              var inserta = firebase.database().ref("Despenza/2/Ingredientes/");
              elemento.push(ingrediente)
              inserta.set(elemento)
            /*  elemento.forEach(element => console.log(elemento));
              elemento.forEach((elemento, index) => {
                console.log(`${index} está en la posición ${elemento}`)
              });
              */
              elemento.forEach((elemento, index) => {
                document.getElementById("cargar").innerHTML += 
                  '<td>' + index + '</td>' + '<td>' + elemento + '</td>' + '<td><button class="btn btn-primary">' +
                  '<i class="material-icons">edit</i></button></td>' +
                  '<td><button class="btn btn-primary"><i class="material-icons">clear</i></button></td>';
              });
            });
        }
      }
 
      function table(id, Receta) {
        return '<td></td>' + id + '<td></td>' + Receta + '<td><button class="btn btn-primary">' +
          '<i class="material-icons">edit</i></button></td>' +
          '<td><button class="btn btn-primary"><i class="material-icons">clear</i></button></td>';

        '<td></td>' + id + '<td></td>' + Receta + '<td><button class="btn btn-primary">' +
          '<i class="material-icons">edit</i></button></td>' +
          '<td><button class="btn btn-primary"><i class="material-icons">clear</i></button></td>';
      }
      function value(request) {
        return document.getElementById(request).value;
      }
      function asignation(request, response) {
        return document.getElementById(request).value = response;
      }
      function printHTML(request, response) {
        return document.getElementById(request).innerHTML += response;
      }
      function inHTML(request, response) {
        return document.getElementById(request).innerHTML = response;
      }
      function dateActuality() {
        var fh = new Date();
        return fh.getFullYear() + "-" + (fh.getMonth() + 1) + "-" + fh.getDate() + " " + fh.getHours() + ":" + fh.getMinutes();
      }
      function insertTask(name, description) {
        db.ref('task/').push({
          name: name,
          description: description,
          date: dateActuality()
        });
      }

    </script>
    <script>

      $().ready(function () {

        $(window).on('scroll', materialKit.checkScrollForTransparentNavbar);

      });
      function openNav() {
        document.getElementById("mySidebar").style.width = "250px";
        document.getElementById("main").style.marginLeft = "250px";
      }

      /* Set the width of the sidebar to 0 and the left margin of the page content to 0 */
      function closeNav() {
        document.getElementById("ySidebar").style.width = "0";
        document.getElementById("main").style.marginLeft = "0";
      }

    </script>



  </body>

</html>